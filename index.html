<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strategic Graduate Pathways | Sports Affairs Ã— Economics (AI Upgrade)</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;0,800;1,400&family=Source+Sans+3:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&family=Noto+Sans+TC:wght@300;400;500;700&family=Noto+Serif+TC:wght@400;500;600;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Source Sans 3"', '"Noto Sans TC"', 'sans-serif'],
                        serif: ['"Playfair Display"', '"Noto Serif TC"', 'serif'],
                    },
                    colors: {
                        bcg: {
                            green: '#175e52',
                            dark: '#1a1a1a',
                            gray: '#fafafa',
                            border: '#e5e7eb',
                            accent: '#2d8a76',
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; transition: background-color 0.3s, color 0.3s; }
        * { border-radius: 0 !important; }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fadeIn 0.6s ease-out forwards; }
        .animate-slide-up { animation: slideUp 0.6s ease-out forwards; }
        .animate-delay-100 { animation-delay: 0.1s; }
        .animate-delay-200 { animation-delay: 0.2s; }
        .animate-delay-300 { animation-delay: 0.3s; }
        
        .chart-container { position: relative; width: 100%; height: 300px; }
        .accordion-content { transition: max-height 0.4s cubic-bezier(0.25, 1, 0.5, 1), opacity 0.4s ease; max-height: 0; opacity: 0; overflow: hidden; }
        .accordion-content.open { max-height: 1200px; opacity: 1; }
        
        .perspective-1000 { perspective: 1000px; }
        .transform-style-3d { transform-style: preserve-3d; }
        .backface-hidden { backface-visibility: hidden; }
        .rotate-y-180 { transform: rotateY(180deg); }
        .group:hover .group-hover\:rotate-y-180 { transform: rotateY(180deg); }

        @keyframes sound-wave { 0%, 100% { height: 4px; } 50% { height: 16px; } }
        .sound-wave-bar { width: 3px; background-color: currentColor; animation: sound-wave 0.8s ease-in-out infinite; }
        .sound-wave-bar:nth-child(1) { animation-delay: 0s; }
        .sound-wave-bar:nth-child(2) { animation-delay: 0.1s; }
        .sound-wave-bar:nth-child(3) { animation-delay: 0.2s; }
        .sound-wave-bar:nth-child(4) { animation-delay: 0.3s; }
        
        .tab-active { border-bottom: 3px solid #175e52; color: #175e52; background-color: #f9fafb; }
        .dark .tab-active { border-bottom: 3px solid #4ade80; color: #4ade80; background-color: #374151; }
        
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-4px); box-shadow: 0 20px 40px -12px rgba(0,0,0,0.15); }
        
        [id] { scroll-margin-top: 80px; }
        
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #c1c1c1; }
        .dark ::-webkit-scrollbar-track { background: #1f2937; }
        .dark ::-webkit-scrollbar-thumb { background: #4b5563; }
    </style>
</head>
<body class="bg-bcg-gray text-bcg-dark dark:bg-gray-900 dark:text-gray-100 font-sans flex flex-col min-h-screen">

    <!-- Header -->
    <header class="bg-white dark:bg-gray-900 border-b-2 border-bcg-green dark:border-green-600 sticky top-0 z-50 shadow-sm transition-colors">
        <div class="max-w-7xl mx-auto px-6 h-16 flex justify-between items-center">
            <div class="flex items-center cursor-pointer group" onclick="window.scrollTo({top:0, behavior:'smooth'})">
                <div class="w-1.5 h-8 bg-bcg-green dark:bg-green-500 mr-4 group-hover:h-10 transition-all duration-300"></div>
                <h1 class="text-xl font-serif font-bold tracking-tight text-bcg-dark dark:text-white">
                    STRATEGY <span class="font-sans font-light text-gray-400 dark:text-gray-500">| GRADUATE PATHWAYS</span>
                </h1>
            </div>
            
            <div class="flex items-center space-x-4">
                <button id="theme-toggle" class="p-2 text-gray-400 hover:text-bcg-green dark:hover:text-green-400 transition-colors" aria-label="Toggle theme">
                    <span id="theme-icon" class="text-lg">â˜¾</span>
                </button>
                <div class="h-6 w-px bg-gray-300 dark:bg-gray-700"></div>
                <button id="lang-toggle" class="text-xs font-bold px-3 py-1.5 bg-gray-100 dark:bg-gray-800 hover:bg-bcg-green dark:hover:bg-green-600 hover:text-white transition-all duration-300 border border-gray-200 dark:border-gray-700">
                    EN / ç¹ä¸­
                </button>
            </div>
        </div>
    </header>

    <main class="flex-grow max-w-7xl mx-auto px-6 py-10 w-full">

        <!-- Hero Section -->
        <section class="mb-16 opacity-0 animate-fade-in" style="animation-fill-mode: forwards;">
            <div class="bg-bcg-green/10 dark:bg-green-900/30 border-l-4 border-bcg-green p-4 mb-8">
                <div class="flex items-center gap-3">
                    <span class="flex h-2 w-2 relative">
                        <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-bcg-green opacity-75"></span>
                        <span class="relative inline-flex rounded-full h-2 w-2 bg-bcg-green"></span>
                    </span>
                    <p class="text-sm font-semibold text-bcg-green dark:text-green-400 uppercase tracking-widest" data-i18n="target_audience">
                        Target: NTU Junior Dual Major (Sports Affairs + Economics)
                    </p>
                </div>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">
                <div class="lg:col-span-8">
                    <h2 class="text-4xl md:text-5xl lg:text-6xl font-serif font-bold mb-6 leading-[1.1] text-gray-900 dark:text-white">
                        <span data-i18n="hero_title_1" class="block">From Theory to Industry Leader</span>
                        <span class="text-bcg-green dark:text-green-400 font-sans font-light text-2xl md:text-3xl lg:text-4xl mt-4 block" data-i18n="hero_title_2">
                            Strategic Graduate Pathways in Sports Economics & Law
                        </span>
                    </h2>
                    <p class="text-lg text-gray-600 dark:text-gray-400 leading-relaxed max-w-2xl mb-8" data-i18n="hero_desc">
                        A comprehensive strategic framework integrating traditional sports economics with the AI revolution and healthcare economics, designed specifically for dual-major students.
                    </p>
                    
                    <!-- Quick Stats - Updated to 20 -->
                    <div class="flex flex-wrap gap-6 mb-8">
                        <div class="flex items-center gap-2">
                            <span class="text-3xl font-serif font-bold text-bcg-green dark:text-green-400">20</span>
                            <span class="text-sm text-gray-500 dark:text-gray-400" data-i18n="stat_programs">Programs<br/>Analyzed</span>
                        </div>
                        <div class="w-px h-12 bg-gray-200 dark:bg-gray-700"></div>
                        <div class="flex items-center gap-2">
                            <span class="text-3xl font-serif font-bold text-bcg-green dark:text-green-400">3</span>
                            <span class="text-sm text-gray-500 dark:text-gray-400" data-i18n="stat_regions">Geographic<br/>Regions</span>
                        </div>
                        <div class="w-px h-12 bg-gray-200 dark:bg-gray-700"></div>
                        <div class="flex items-center gap-2">
                            <span class="text-3xl font-serif font-bold text-bcg-green dark:text-green-400">18</span>
                            <span class="text-sm text-gray-500 dark:text-gray-400" data-i18n="stat_months">Month<br/>Roadmap</span>
                        </div>
                    </div>
                </div>
                
                <!-- Quick Navigation Card -->
                <div class="lg:col-span-4">
                    <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-lg p-6">
                        <h3 class="text-xs font-bold uppercase tracking-widest text-gray-400 mb-4" data-i18n="quick_nav">Quick Navigation</h3>
                        <nav class="space-y-2">
                            <a href="#timeline-section" class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 hover:bg-bcg-green/10 dark:hover:bg-green-900/30 transition-colors group">
                                <span class="text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-bcg-green dark:group-hover:text-green-400" data-i18n="nav_timeline">Application Roadmap</span>
                                <span class="text-bcg-green dark:text-green-400">â†’</span>
                            </a>
                            <a href="#insights-section" class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 hover:bg-bcg-green/10 dark:hover:bg-green-900/30 transition-colors group">
                                <span class="text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-bcg-green dark:group-hover:text-green-400" data-i18n="nav_insights">Strategic Insights</span>
                                <span class="text-bcg-green dark:text-green-400">â†’</span>
                            </a>
                            <a href="#glossary-section" class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 hover:bg-bcg-green/10 dark:hover:bg-green-900/30 transition-colors group">
                                <span class="text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-bcg-green dark:group-hover:text-green-400" data-i18n="nav_glossary">Core Terminology</span>
                                <span class="text-bcg-green dark:text-green-400">â†’</span>
                            </a>
                            <a href="#dashboard" class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 hover:bg-bcg-green/10 dark:hover:bg-green-900/30 transition-colors group">
                                <span class="text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-bcg-green dark:group-hover:text-green-400" data-i18n="nav_programs">Program Directory</span>
                                <span class="text-bcg-green dark:text-green-400">â†’</span>
                            </a>
                        </nav>
                    </div>
                </div>
            </div>
            
            <!-- Expertise Tags (Expanded to 4 columns) -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-0 border-t border-gray-300 dark:border-gray-700 pt-8 mt-8">
                <div class="pr-6 border-b lg:border-b-0 lg:border-r border-gray-200 dark:border-gray-700 pb-6 lg:pb-0">
                    <div class="flex items-start gap-3">
                        <div class="w-10 h-10 bg-bcg-green/10 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0">
                            <span class="text-bcg-green dark:text-green-400 text-lg">ğŸ“</span>
                        </div>
                        <div>
                            <h3 class="font-bold text-sm uppercase mb-1 text-gray-900 dark:text-gray-200" data-i18n="tag_elite_head">Elite Academia</h3>
                            <p class="text-sm text-gray-600 dark:text-gray-400" data-i18n="tag_elite_desc">Chicago, Harvard, Stanford</p>
                        </div>
                    </div>
                </div>
                <div class="px-0 md:px-6 border-b lg:border-b-0 lg:border-r border-gray-200 dark:border-gray-700 py-6 md:py-0 lg:py-0">
                    <div class="flex items-start gap-3">
                        <div class="w-10 h-10 bg-bcg-green/10 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0">
                            <span class="text-bcg-green dark:text-green-400 text-lg">ğŸ¤–</span>
                        </div>
                        <div>
                            <h3 class="font-bold text-sm uppercase mb-1 text-gray-900 dark:text-gray-200" data-i18n="tag_ai_head">Tech & AI</h3>
                            <p class="text-sm text-gray-600 dark:text-gray-400" data-i18n="tag_ai_desc">Agentic AI, Data Analytics</p>
                        </div>
                    </div>
                </div>
                <div class="px-0 lg:px-6 border-b md:border-b-0 md:border-r lg:border-r border-gray-200 dark:border-gray-700 py-6 lg:py-0">
                    <div class="flex items-start gap-3">
                        <div class="w-10 h-10 bg-bcg-green/10 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0">
                            <span class="text-bcg-green dark:text-green-400 text-lg">ğŸ¥</span>
                        </div>
                        <div>
                            <h3 class="font-bold text-sm uppercase mb-1 text-gray-900 dark:text-gray-200" data-i18n="tag_silver_head">Future Trend</h3>
                            <p class="text-sm text-gray-600 dark:text-gray-400" data-i18n="tag_silver_desc">Healthcare & Silver Economy</p>
                        </div>
                    </div>
                </div>
                <div class="pl-0 lg:pl-6 pt-6 lg:pt-0">
                    <div class="flex items-start gap-3">
                        <div class="w-10 h-10 bg-bcg-green/10 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0">
                            <span class="text-bcg-green dark:text-green-400 text-lg">âš–ï¸</span>
                        </div>
                        <div>
                            <h3 class="font-bold text-sm uppercase mb-1 text-gray-900 dark:text-gray-200" data-i18n="tag_policy_head">Policy & Law</h3>
                            <p class="text-sm text-gray-600 dark:text-gray-400" data-i18n="tag_policy_desc">Tech Regulation & Compliance</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Timeline Section (Updated with AI strategy) -->
        <section class="mb-16 opacity-0 animate-fade-in animate-delay-100" style="animation-fill-mode: forwards;" id="timeline-section">
            <div class="flex flex-col md:flex-row md:items-end md:justify-between pb-4 border-b border-gray-300 dark:border-gray-600 mb-8">
                <div>
                    <span class="text-xs font-bold text-bcg-green dark:text-green-400 uppercase tracking-widest mb-2 block">Phase Planning</span>
                    <h3 class="text-2xl font-bold font-serif text-gray-900 dark:text-white" data-i18n="section_timeline">Application Roadmap: Junior Year to Graduation</h3>
                </div>
                <p class="text-sm text-gray-500 dark:text-gray-400 mt-2 md:mt-0" data-i18n="timeline_hint">Hover cards to view action items</p>
            </div>
            
            <div class="flex items-center justify-between mb-8 px-4">
                <div class="flex-1 flex items-center"><div class="w-8 h-8 bg-bcg-green text-white flex items-center justify-center text-xs font-bold">1</div><div class="flex-1 h-0.5 bg-bcg-green/30 dark:bg-green-900/50"></div></div>
                <div class="flex-1 flex items-center"><div class="w-8 h-8 bg-bcg-green/60 text-white flex items-center justify-center text-xs font-bold">2</div><div class="flex-1 h-0.5 bg-bcg-green/30 dark:bg-green-900/50"></div></div>
                <div class="flex-1 flex items-center"><div class="w-8 h-8 bg-bcg-green/40 text-white flex items-center justify-center text-xs font-bold">3</div><div class="flex-1 h-0.5 bg-bcg-green/30 dark:bg-green-900/50"></div></div>
                <div class="flex items-center"><div class="w-8 h-8 bg-bcg-green/20 dark:bg-green-900/50 text-bcg-green dark:text-green-400 flex items-center justify-center text-xs font-bold border-2 border-bcg-green/40">4</div></div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6" id="timeline-container"></div>
        </section>

        <!-- Strategic Insights Section -->
        <section class="mb-16 opacity-0 animate-fade-in animate-delay-200" style="animation-fill-mode: forwards;" id="insights-section">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-end border-b border-gray-300 dark:border-gray-600 mb-0 gap-4 md:gap-0 pb-0">
                <div class="flex items-end gap-4">
                    <div>
                        <span class="text-xs font-bold text-bcg-green dark:text-green-400 uppercase tracking-widest mb-2 block">Research Deep-Dive</span>
                        <h3 class="text-2xl font-bold font-serif text-gray-900 dark:text-white" data-i18n="section_research">Strategic Insights</h3>
                    </div>
                    
                    <button id="tts-btn" class="flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 hover:border-bcg-green dark:hover:border-green-500 bg-white dark:bg-gray-800 text-xs font-bold uppercase tracking-widest transition-all mb-1 group">
                        <span id="tts-icon" class="text-bcg-green dark:text-green-400 transition-transform group-hover:scale-110">â–¶</span>
                        <span id="tts-label" class="dark:text-gray-200">READ INSIGHT</span>
                        <div id="tts-indicator" class="hidden items-center gap-0.5 h-4 text-green-500">
                            <div class="sound-wave-bar"></div><div class="sound-wave-bar"></div><div class="sound-wave-bar"></div><div class="sound-wave-bar"></div>
                        </div>
                    </button>
                </div>

                <div class="flex space-x-1 overflow-x-auto w-full md:w-auto pb-0" id="research-tabs-nav"></div>
            </div>
            
            <div id="research-content" class="bg-white dark:bg-gray-800 p-8 border border-t-0 border-gray-200 dark:border-gray-700 shadow-sm"></div>
        </section>

        <!-- Glossary Section (Expanded to 14 terms) -->
        <section class="mb-16 opacity-0 animate-fade-in animate-delay-300" style="animation-fill-mode: forwards;" id="glossary-section">
            <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden">
                <div class="bg-gray-50 dark:bg-gray-900 px-8 py-4 border-b border-gray-200 dark:border-gray-700">
                    <div class="flex items-center gap-3">
                        <span class="text-xl">ğŸ“š</span>
                        <h4 class="text-sm font-bold uppercase tracking-widest text-gray-600 dark:text-gray-400" data-i18n="glossary_section">Core Terminology</h4>
                        <span class="text-xs text-gray-400 ml-2">(14 terms)</span>
                    </div>
                </div>
                <div class="p-8">
                    <div class="flex flex-col md:flex-row gap-8">
                        <div class="md:w-1/3">
                            <label class="block text-xs font-bold text-gray-400 uppercase tracking-widest mb-3" data-i18n="glossary_label">Select Term</label>
                            <select id="glossary-select" class="w-full bg-gray-50 dark:bg-gray-900 border-b-2 border-gray-300 dark:border-gray-600 focus:border-bcg-green dark:focus:border-green-500 outline-none py-3 font-serif text-base dark:text-white cursor-pointer transition-colors"></select>
                        </div>
                        <div class="md:w-2/3 md:border-l border-gray-200 dark:border-gray-700 md:pl-8">
                            <label class="block text-xs font-bold text-gray-400 uppercase tracking-widest mb-3" data-i18n="glossary_def_label">Definition</label>
                            <p id="glossary-def" class="text-lg font-serif text-bcg-dark dark:text-gray-200 leading-relaxed min-h-[4rem]"></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Program Dashboard (Now with 20 programs) -->
        <section id="dashboard" class="opacity-0 animate-fade-in" style="animation-fill-mode: forwards; animation-delay: 0.4s;">
            <div class="flex flex-col md:flex-row md:items-end md:justify-between pb-4 border-b border-gray-300 dark:border-gray-600 mb-8">
                <div>
                    <span class="text-xs font-bold text-bcg-green dark:text-green-400 uppercase tracking-widest mb-2 block">Program Analysis</span>
                    <h3 class="text-2xl font-bold font-serif text-gray-900 dark:text-white" data-i18n="list_header">Program Directory & Analysis</h3>
                </div>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
                <!-- Filters Sidebar -->
                <div class="lg:col-span-1">
                    <div class="bg-white dark:bg-gray-800 p-6 border border-gray-200 dark:border-gray-700 sticky top-24 shadow-sm">
                        <h4 class="font-bold text-xs uppercase tracking-widest text-gray-400 mb-6 flex items-center gap-2" data-i18n="filter_header">
                            <span>ğŸ¯</span> Refine View
                        </h4>
                        <div class="space-y-6">
                            <div>
                                <label class="block text-xs font-bold mb-2 text-bcg-green dark:text-green-400" data-i18n="filter_track">ACADEMIC TRACK</label>
                                <select id="track-select" class="w-full bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-600 p-3 text-sm dark:text-white focus:border-bcg-green outline-none transition-colors"></select>
                            </div>
                            <div>
                                <label class="block text-xs font-bold mb-2 text-bcg-green dark:text-green-400" data-i18n="filter_region">REGION</label>
                                <select id="region-select" class="w-full bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-600 p-3 text-sm dark:text-white focus:border-bcg-green outline-none transition-colors"></select>
                            </div>
                            <div>
                                <label class="block text-xs font-bold mb-2 text-bcg-green dark:text-green-400" data-i18n="filter_sport">SECTOR</label>
                                <select id="sport-select" class="w-full bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-600 p-3 text-sm dark:text-white focus:border-bcg-green outline-none transition-colors"></select>
                            </div>
                            <button id="reset-btn" class="w-full py-3 bg-gray-100 dark:bg-gray-700 hover:bg-bcg-green hover:text-white dark:hover:bg-green-600 text-xs font-bold uppercase tracking-widest transition-all text-gray-800 dark:text-white flex items-center justify-center gap-2" data-i18n="btn_reset">
                                <span>â†º</span> Reset
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Main Content -->
                <div class="lg:col-span-3 space-y-6">
                    <div class="bg-white dark:bg-gray-800 p-6 border border-gray-200 dark:border-gray-700 shadow-sm">
                        <h4 class="text-xs font-bold text-center mb-4 uppercase tracking-widest text-gray-400" data-i18n="chart_radar">Competency Matrix</h4>
                        <div class="chart-container"><canvas id="radarChart"></canvas></div>
                    </div>
                    
                    <div class="bg-bcg-green dark:bg-green-700 text-white px-5 py-4 text-xs font-bold uppercase tracking-widest flex justify-between items-center shadow-sm">
                        <span data-i18n="list_count_label">Programs Identified</span>
                        <div class="flex items-center gap-3">
                            <span id="count-display" class="text-2xl font-serif">0</span>
                            <span class="text-green-200 text-[10px]" data-i18n="of_total">/ 20 total</span>
                        </div>
                    </div>
                    
                    <div id="uni-list" class="space-y-4"></div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-bcg-dark dark:bg-black text-white py-10 px-6 mt-12 border-t-4 border-bcg-green">
        <div class="max-w-7xl mx-auto">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-6">
                <div>
                    <div class="flex items-center gap-3 mb-3">
                        <div class="w-1 h-6 bg-bcg-green"></div>
                        <span class="font-serif font-bold text-lg">Strategic Graduate Pathways</span>
                    </div>
                    <p class="text-gray-400 text-sm" data-i18n="footer_desc">A research-based guide for dual-major students in Sports Affairs and Economics</p>
                    <p class="text-gray-500 text-xs mt-2" id="version-date"></p>
                </div>
                <div class="text-left md:text-right">
                    <p class="text-gray-400 text-sm mb-1" data-i18n="footer_editor">Academic Editor</p>
                    <a href="https://www.ibs.ncnu.edu.tw/index.php/faculty/tenured-professor/299-smlo" target="_blank" class="text-bcg-accent hover:text-green-400 font-bold transition-colors">Prof. Shihmin Lo</a>
                    <p class="text-gray-500 text-xs mt-2">Â© 2026 All Rights Reserved</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        const state = { lang: 'zh', theme: 'light', activeTab: 'ai_tech', filters: { track: 'all', region: 'all', sport: 'all' }, expandedCard: null, selectedTerm: 'gen_ai', ttsSupported: false, voices: [] };

        const dictionary = {
            en: {
                target_audience: "Target: NTU Junior Dual Major (Sports Affairs + Economics)",
                hero_title_1: "From Theory to Industry Leader",
                hero_title_2: "Strategic Graduate Pathways in Sports Economics & Law",
                hero_desc: "A comprehensive strategic framework integrating traditional sports economics with the AI revolution and healthcare economics, designed specifically for dual-major students.",
                stat_programs: "Programs\nAnalyzed", stat_regions: "Geographic\nRegions", stat_months: "Month\nRoadmap",
                quick_nav: "Quick Navigation", nav_timeline: "Application Roadmap", nav_insights: "Strategic Insights", nav_glossary: "Core Terminology", nav_programs: "Program Directory",
                tag_elite_head: "Elite Academia", tag_elite_desc: "Chicago, Harvard, Stanford",
                tag_ai_head: "Tech & AI", tag_ai_desc: "Agentic AI, Data Analytics",
                tag_silver_head: "Future Trend", tag_silver_desc: "Healthcare & Silver Economy",
                tag_policy_head: "Policy & Law", tag_policy_desc: "Tech Regulation & Compliance",
                section_timeline: "Application Roadmap: Junior Year to Graduation", timeline_hint: "Hover cards to view action items",
                section_research: "Strategic Insights",
                glossary_section: "Core Terminology", glossary_label: "Select Term", glossary_def_label: "Definition", glossary_default: "Select a term to view its definition.",
                filter_header: "Refine View", filter_track: "Academic Track", filter_region: "Geographic Region", filter_sport: "Sector Specialization",
                chart_radar: "Aggregate Competency Profile", chart_vb: "Market Analysis: League Models", chart_elite: "Curriculum Focus", chart_silver: "Healthcare Savings Projection", chart_law: "Legal Practice Areas", chart_ai_tech: "AI Capability Distribution",
                list_header: "Program Directory & Analysis", list_count_label: "Programs Identified", of_total: "/ 20 total",
                tab_elite: "Elite Academic", tab_ai_tech: "AI & Digital Transformation", tab_vb: "Volleyball Sector", tab_silver: "Silver Economy & Health", tab_law: "Sports Law",
                btn_reset: "Reset", lbl_tuition: "Investment", lbl_duration: "Duration", lbl_courses: "Curriculum", lbl_alumni: "Network", lbl_career: "Career Path", lbl_web: "Portal",
                tts_read: "READ INSIGHT", tts_stop: "STOP", tts_unavailable: "TTS Unavailable",
                sport_all: "All Sectors", sport_vb: "Volleyball", sport_bb: "Baseball", sport_bkb: "Basketball", sport_bad: "Badminton", sport_tt: "Table Tennis", sport_mara: "Marathon", sport_cyc: "Cycling", sport_yoga: "Yoga/Fitness", sport_ai_data: "AI/Data Analytics", sport_tech_policy: "Tech & Policy", sport_healthcare: "Healthcare & Aging",
                track_all: "All Tracks", track_elite: "Elite Academic (PhD)", track_applied: "Applied Industry (Master)", track_tech_policy: "Tech & Policy",
                region_all: "Global", region_usa: "USA", region_oce: "Oceania", region_asia: "Asia",
                unit_score: "Score (0-10)", unit_pct: "Percentage (%)", unit_index: "Index (2025=100)", unit_cases: "Distribution (%)",
                card_front_hint: "HOVER TO VIEW ACTIONS",
                footer_desc: "A research-based guide for dual-major students in Sports Affairs and Economics",
                footer_editor: "Academic Editor",
                no_results: "No programs match your criteria. Try adjusting filters."
            },
            zh: {
                target_audience: "å°ˆå±¬ç­–ç•¥ï¼šå°å¤§é«”è‚²äº‹å‹™èˆ‡ç¶“æ¿Ÿé›™ä¸»ä¿®å¤§ä¸‰å­¸ç”Ÿ",
                hero_title_1: "å¾ç†è«–å·”å³°åˆ°ç”¢æ¥­å‰æ²¿",
                hero_title_2: "å…¨çƒé«”è‚²ç¶“æ¿Ÿèˆ‡æ³•å¾‹æ·±é€ ç­–ç•¥",
                hero_desc: "ç‚ºé›™ä¸»ä¿®å­¸ç”Ÿé‡èº«æ‰“é€ çš„å…¨æ–¹ä½ç­–ç•¥æ¶æ§‹ï¼Œçµåˆå‚³çµ±é«”è‚²ç¶“æ¿Ÿã€AI æŠ€è¡“é©å‘½èˆ‡é«˜é½¡å¥åº·ç¶“æ¿Ÿï¼Œå”åŠ©ä½ åœ¨è®Šå±€ä¸­æŒæ¡æœ€ä½³ç™¼å±•è·¯å¾‘ã€‚",
                stat_programs: "åˆ†æ\nå­¸ç¨‹", stat_regions: "åœ°ç†\nå€åŸŸ", stat_months: "æœˆä»½\nè¦åŠƒ",
                quick_nav: "å¿«é€Ÿå°è¦½", nav_timeline: "ç”³è«‹è·¯å¾‘åœ–", nav_insights: "ç­–ç•¥æ´å¯Ÿ", nav_glossary: "æ ¸å¿ƒè¡“èª", nav_programs: "å­¸ç¨‹ç›®éŒ„",
                tag_elite_head: "é ‚å°–å­¸è¡“", tag_elite_desc: "å¸¸æ˜¥è—¤ç›Ÿæ ¡ã€èŠåŠ å“¥å¤§å­¸",
                tag_ai_head: "ç§‘æŠ€èˆ‡ AI", tag_ai_desc: "ä»£ç†å¼ AIã€æ•¸æ“šåˆ†æ",
                tag_silver_head: "æœªä¾†è¶¨å‹¢", tag_silver_desc: "é†«ç™‚ä¿å¥èˆ‡éŠ€é«®ç¶“æ¿Ÿ",
                tag_policy_head: "æ”¿ç­–èˆ‡æ³•å¾‹", tag_policy_desc: "ç§‘æŠ€ç›£ç®¡èˆ‡åˆè¦",
                section_timeline: "ç”³è«‹æº–å‚™è·¯å¾‘åœ–ï¼šå¤§ä¸‰ä¸‹è‡³ç•¢æ¥­", timeline_hint: "æ»‘é¼ æ‡¸åœæŸ¥çœ‹è¡Œå‹•æ–¹æ¡ˆ",
                section_research: "ç­–ç•¥æ´å¯Ÿ",
                glossary_section: "æ ¸å¿ƒè¡“èªåº«", glossary_label: "é¸æ“‡è¡“èª", glossary_def_label: "å®šç¾©èˆ‡èƒŒæ™¯", glossary_default: "è«‹é¸æ“‡è¡“èªæŸ¥çœ‹å®šç¾©ã€‚",
                filter_header: "ç¯©é¸æ¢ä»¶", filter_track: "å­¸è¡“è·¯å¾‘", filter_region: "åœ°ç†å€åŸŸ", filter_sport: "ç”¢æ¥­å°ˆé …",
                chart_radar: "æ ¸å¿ƒèƒ½åŠ›çŸ©é™£", chart_vb: "å¸‚å ´åˆ†æï¼šè¯è³½æ¨¡å‹", chart_elite: "èª²ç¨‹æ¯”é‡åˆ†æ", chart_silver: "é†«ç™‚ç¯€çœé ä¼°", chart_law: "æ³•å¾‹å¯¦å‹™é ˜åŸŸ", chart_ai_tech: "AI æ‡‰ç”¨èƒ½åŠ›åˆ†ä½ˆ",
                list_header: "å­¸ç¨‹åéŒ„èˆ‡åˆ†æ", list_count_label: "ç¬¦åˆæ¢ä»¶", of_total: "/ å…± 20 å­¸ç¨‹",
                tab_elite: "èè‹±å­¸è¡“è·¯å¾‘", tab_ai_tech: "AI èˆ‡æ•¸ä½è½‰å‹", tab_vb: "æ’çƒç”¢æ¥­å°ˆé¡Œ", tab_silver: "éŠ€é«®ç¶“æ¿Ÿèˆ‡å¥åº·", tab_law: "é‹å‹•æ³•å¾‹èˆ‡åˆè¦",
                btn_reset: "é‡ç½®", lbl_tuition: "é ä¼°æŠ•è³‡", lbl_duration: "ä¿®æ¥­å¹´é™", lbl_courses: "æ ¸å¿ƒèª²ç¨‹", lbl_alumni: "æ ¡å‹ç¶²çµ¡", lbl_career: "è·æ¶¯è·¯å¾‘", lbl_web: "å®˜æ–¹ç¶²ç«™",
                tts_read: "æœ—è®€æ´å¯Ÿ", tts_stop: "åœæ­¢", tts_unavailable: "èªéŸ³ä¸æ”¯æ´",
                sport_all: "æ‰€æœ‰ç”¢æ¥­", sport_vb: "æ’çƒ", sport_bb: "æ£’çƒ", sport_bkb: "ç±ƒçƒ", sport_bad: "ç¾½çƒ", sport_tt: "æ¡Œçƒ", sport_mara: "é¦¬æ‹‰æ¾", sport_cyc: "è‡ªè¡Œè»Š", sport_yoga: "ç‘œçˆ/å¥èº«", sport_ai_data: "AI èˆ‡æ•¸æ“šåˆ†æ", sport_tech_policy: "ç§‘æŠ€èˆ‡æ”¿ç­–", sport_healthcare: "å¥åº·èˆ‡é«˜é½¡åŒ–",
                track_all: "æ‰€æœ‰è·¯å¾‘", track_elite: "èè‹±å­¸è¡“ (PhDå°å‘)", track_applied: "ç”¢æ¥­å¯¦å‹™ (Masterå°å‘)", track_tech_policy: "ç§‘æŠ€èˆ‡æ”¿ç­–è¦åŠƒ",
                region_all: "å…¨çƒ", region_usa: "ç¾åœ‹", region_oce: "ç´æ¾³", region_asia: "äºæ´²",
                unit_score: "è©•åˆ† (0-10)", unit_pct: "ä½”æ¯” (%)", unit_index: "æŒ‡æ•¸ (2025=100)", unit_cases: "æ¡ˆä»¶åˆ†ä½ˆ (%)",
                card_front_hint: "æ‡¸åœæŸ¥çœ‹è¡Œå‹•æ–¹é‡",
                footer_desc: "ç‚ºå°å¤§é«”è‚²äº‹å‹™èˆ‡ç¶“æ¿Ÿç³»é›™ä¸»ä¿®å­¸ç”Ÿè¨­è¨ˆçš„ç ”ç©¶å‹æŒ‡å—",
                footer_editor: "å­¸è¡“ç·¨è¼¯",
                no_results: "æ²’æœ‰ç¬¦åˆæ¢ä»¶çš„å­¸ç¨‹ï¼Œè«‹èª¿æ•´ç¯©é¸æ¢ä»¶ã€‚"
            }
        };

        const timelineData = [
            { period_en: "Junior Spring", period_zh: "å¤§ä¸‰ä¸‹å­¸æœŸ", date_en: "Feb - Jun", date_zh: "2æœˆ-6æœˆ", title_en: "Technical & Academic Foundation", title_zh: "æŠ€è¡“èˆ‡å­¸è¡“å¥ åŸº", desc_en: "â€¢ Maintain high GPA in Microeconomics & Stats\nâ€¢ Cross-enroll to strengthen Python, R, SQL skills\nâ€¢ Begin literature review on Tech/Health economics", desc_zh: "â€¢ ç¶­æŒå€‹é«”ç¶“æ¿Ÿèˆ‡çµ±è¨ˆå­¸çš„é«˜ GPA\nâ€¢ è·¨ç³»é¸ä¿®è£œå¼· Python, R, SQL ç­‰ç¨‹å¼å¯¦ä½œèƒ½åŠ›\nâ€¢ é‡å°ç§‘æŠ€èˆ‡é«˜é½¡å¥åº·ç¶“æ¿Ÿé€²è¡Œæ–‡ç»å›é¡§", icon: "ğŸ’»" },
            { period_en: "Junior Summer", period_zh: "å¤§ä¸‰å‡å¤§å››æš‘å‡", date_en: "Jul - Aug", date_zh: "7æœˆ-8æœˆ", title_en: "Certifications & Industry Exposure", title_zh: "è­‰ç…§èˆ‡å¯¦ç¿’è¡åˆº", desc_en: "â€¢ Obtain Agentic AI certs (e.g., JHU, IBM)\nâ€¢ Internship in sports data or health tech firms\nâ€¢ Intensive GRE/GMAT preparation", desc_zh: "â€¢ è€ƒå– Agentic AI ç­‰å‰æ²¿ AI å°ˆæ¥­èªè­‰ (JHU/IBM)\nâ€¢ çˆ­å–é†«ç™‚ç§‘æŠ€æˆ–é«”è‚²æ•¸æ“šåˆ†æç›¸é—œå¯¦ç¿’\nâ€¢ GRE/GMAT é‡åŒ–æˆç¸¾å¯†é›†æº–å‚™", icon: "ğŸ†" },
            { period_en: "Senior Fall", period_zh: "å¤§å››ä¸Šå­¸æœŸ", date_en: "Sep - Dec", date_zh: "9æœˆ-12æœˆ", title_en: "Application Strategy", title_zh: "ç”³è«‹é€ä»¶ç­–ç•¥", desc_en: "â€¢ Draft SOP linking AI/Aging to sports econ\nâ€¢ Submit Round 1 applications (UW/UCSD focus)\nâ€¢ Secure strong tech & academic recommendation letters", desc_zh: "â€¢ æ’°å¯« SOPï¼Œå·§å¦™ä¸²è¯ AIã€é«˜é½¡åŒ–èˆ‡é«”è‚²ç¶“æ¿ŸèƒŒæ™¯\nâ€¢ éäº¤ç¾åœ‹é ‚å°–åæ ¡ (å¦‚UW, UCSD) ç¬¬ä¸€è¼ªç”³è«‹\nâ€¢ è¯ç¹«æŒ‡å°æ•™æˆèˆ‡å¯¦ç¿’ä¸»ç®¡æ’°å¯«æ¨è–¦ä¿¡", icon: "âœï¸" },
            { period_en: "Senior Spring", period_zh: "å¤§å››ä¸‹å­¸æœŸ", date_en: "Jan - Jun", date_zh: "1æœˆ-6æœˆ", title_en: "Decision & Funding", title_zh: "æ±ºç­–èˆ‡çå­¸é‡‘", desc_en: "â€¢ Prepare for rigorous program interviews\nâ€¢ Apply for MOE scholarships & financial aid\nâ€¢ Finalize STEM program choice & visa process", desc_zh: "â€¢ é¢è©¦æº–å‚™ï¼Œå±•ç¾å°æ•¸ä½è½‰å‹èˆ‡æ”¿ç­–çš„è¦‹è§£\nâ€¢ ç”³è«‹æ•™è‚²éƒ¨ç•™å­¸çå­¸é‡‘\nâ€¢ ç¢ºèªå…·å‚™ STEM èªè­‰ä¹‹å­¸æ ¡ä¸¦è¾¦ç†ç°½è­‰", icon: "ğŸ“" }
        ];

        // Expanded Glossary to 14 items
        const glossaryData = [
            { id: 'gen_ai', term_en: 'Generative AI', term_zh: 'ç”Ÿæˆå¼äººå·¥æ™ºæ…§', def_en: "AI systems capable of autonomous learning and content generation, reshaping marketing and analytics.", def_zh: "å…·å‚™è‡ªæˆ‘å­¸ç¿’èˆ‡å…§å®¹ç”Ÿæˆèƒ½åŠ›çš„ç³»çµ±ï¼Œæ­£åœ¨å¾¹åº•æ”¹è®Šé«”è‚²å…§å®¹ç­–ç•¥èˆ‡ç¶“æ¿Ÿæ•¸æ“šåˆ†æçš„æ¨£è²Œã€‚" },
            { id: 'agentic_ai', term_en: 'Agentic AI', term_zh: 'ä»£ç†å¼äººå·¥æ™ºæ…§', def_en: "Autonomous systems combining generative and analytical AI to optimize workflows and strategic decisions.", def_zh: "çµåˆç”Ÿæˆèˆ‡åˆ†æèƒ½åŠ›çš„è‡ªä¸»æ±ºç­–ç³»çµ±ï¼Œèƒ½å‹•æ…‹å„ªåŒ–ä¾›æ‡‰éˆã€å ´é¤¨ç‡Ÿé‹èˆ‡å³æ™‚å®šåƒ¹ç­–ç•¥ã€‚" },
            { id: 'physical_ai', term_en: 'Physical AI', term_zh: 'å¯¦é«”äººå·¥æ™ºæ…§', def_en: "The integration of AI software with robotic hardware, crucial for healthcare and athlete training.", def_zh: "AIå¤§è…¦èˆ‡å¯¦é«”æ©Ÿå™¨äººç¡¬é«”çš„çµåˆï¼Œå»£æ³›æ‡‰ç”¨æ–¼é«˜é½¡ç…§è­·èˆ‡é‹å‹•å“¡è¨“ç·´é˜²è­·ã€‚" },
            { id: 'bige_model', term_en: 'BIGE Model', term_zh: 'BIGE æ¨¡å‹', def_en: "Biomechanics-informed GenAI developed by UCSD for injury prevention and optimized rehabilitation.", def_zh: "UCSDé–‹ç™¼çš„æ¨¡å‹ï¼Œçµåˆäººé«”ç”Ÿç‰©åŠ›å­¸èˆ‡ç”Ÿæˆå¼AIï¼Œç”¨æ–¼é é˜²é‹å‹•å‚·å®³èˆ‡æœ€ä½³åŒ–å¾©å¥è¨“ç·´ã€‚" },
            { id: 'health_econ', term_en: 'Healthcare Economics', term_zh: 'å¥åº·ç¶“æ¿Ÿå­¸', def_en: "Economic analysis of 'Exercise Prescriptions' versus long-term healthcare expenditures in an aging society.", def_zh: "é‡å°é«˜é½¡ç¤¾æœƒä¸­ã€Œé‹å‹•è™•æ–¹ã€èˆ‡é•·æœŸå¥ä¿æ”¯å‡ºä¹‹é–“é€²è¡Œæˆæœ¬æ•ˆç›Šåˆ†æçš„æ–°èˆˆé ˜åŸŸã€‚" },
            { id: 'antitrust', term_en: 'Antitrust Law', term_zh: 'åæ‰˜æ‹‰æ–¯æ³•', def_en: "Legal framework promoting market competition. Key in challenging league monopolies.", def_zh: "ä¿ƒé€²å¸‚å ´ç«¶çˆ­çš„æ³•å¾‹æ¶æ§‹ã€‚å¸¸ç”¨æ–¼æŒ‘æˆ°è·æ¥­è¯ç›Ÿçš„å£Ÿæ–·åœ°ä½ã€‚" },
            { id: 'moneyball', term_en: 'Sabermetrics', term_zh: 'è³½ä¼¯è¨ˆé‡å­¸', def_en: "Statistical analysis to identify undervalued assets in player markets.", def_zh: "åˆ©ç”¨çµ±è¨ˆåˆ†æåœ¨çƒå“¡å¸‚å ´ä¸­å°‹æ‰¾è¢«ä½ä¼°çš„è³‡ç”¢ã€‚" },
            { id: 'cba', term_en: 'CBA', term_zh: 'å‹è³‡å”è­°', def_en: "Collective Bargaining Agreement determining salary caps and revenue sharing.", def_zh: "æ±ºå®šè–ªè³‡ä¸Šé™èˆ‡æ”¶ç›Šåˆ†äº«æ©Ÿåˆ¶çš„å‹è³‡é›™æ–¹å”è­°ã€‚" },
            { id: 'silver', term_en: 'Silver Economy', term_zh: 'éŠ€é«®ç¶“æ¿Ÿ', def_en: "Economic activities driven by the needs of people aged 50+.", def_zh: "ç”±50æ­²ä»¥ä¸Šäººå£éœ€æ±‚é©…å‹•çš„ç¶“æ¿Ÿæ´»å‹•ã€‚" },
            { id: 'posting', term_en: 'Posting System', term_zh: 'å…¥æœ­åˆ¶åº¦', def_en: "Transfer system between MLB and NPB/KBO allowing players to sign with US teams.", def_zh: "é€£æ¥ç¾æ—¥éŸ“è·æ£’çš„çƒå“¡è½‰éšŠåˆ¶åº¦ã€‚" },
            { id: 'arbitration', term_en: 'Salary Arbitration', term_zh: 'è–ªè³‡ä»²è£', def_en: "Legal process to resolve salary disputes via final-offer arbitration.", def_zh: "è§£æ±ºçƒå“¡èˆ‡çƒéšŠè–ªè³‡çˆ­è­°çš„æ³•å¾‹ç¨‹åºã€‚" },
            { id: 'nil', term_en: 'NIL', term_zh: 'å§“åå½¢è±¡æ¬Š', def_en: "Name, Image, and Likeness rights allowing college athletes to monetize their brand.", def_zh: "å…è¨±å¤§å­¸é‹å‹•å“¡å°‡å€‹äººå“ç‰Œè®Šç¾çš„æ¬Šåˆ©ã€‚" },
            { id: 'titleix', term_en: 'Title IX', term_zh: 'æ•™è‚²ä¿®æ­£æ¡ˆç¬¬ä¹æ¢', def_en: "Law prohibiting sex discrimination, driving the growth of women's sports.", def_zh: "ç¦æ­¢æ•™è‚²æ€§åˆ¥æ­§è¦–çš„è¯é‚¦æ³•å¾‹ã€‚" },
            { id: 'franchise', term_en: 'Franchise Model', term_zh: 'ç‰¹è¨±ç¶“ç‡Ÿ', def_en: "Closed league system with no relegation, maximizing asset value.", def_zh: "ç„¡å‡é™ç´šçš„å°é–‰å¼è¯ç›Ÿé«”åˆ¶ã€‚" }
        ];

        const researchData = {
            ai_tech: { title_en: "AI & Digital Transformation in Sports Econ", title_zh: "æŠ€è¡“å…¸ç¯„è½‰ç§»ï¼šAIé‡å¡‘é«”è‚²èˆ‡ç¶“æ¿Ÿç”¢æ¥­", content_en: "Future economists must master advanced technologies. Generative AI (GenAI) optimizes fan engagement, while Agentic AI enables autonomous decision-making in pricing and operations. Physical AI merges biomechanics with robotics for injury prevention (e.g., UCSD's BIGE model). Graduates skilled in Python, R, and AI policy will lead this paradigm shift.", content_zh: "æœªä¾†çš„ç¶“æ¿Ÿå­¸å®¶å¿…é ˆé§•é¦­å…ˆé€²æŠ€è¡“ã€‚ç”Ÿæˆå¼AI (GenAI) æ­£é‡å¡‘çƒè¿·äº’å‹•ï¼›ä»£ç†å¼AI (Agentic AI) å‰‡è³¦äºˆæ©Ÿå™¨è‡ªä¸»å„ªåŒ–å®šåƒ¹èˆ‡ç‡Ÿé‹çš„èƒ½åŠ›ã€‚æ›´é€²éšçš„å¯¦é«”AI (Physical AI) å‰‡å°‡ç”Ÿç‰©åŠ›å­¸èˆ‡æ©Ÿå™¨äººçµåˆï¼Œå¦‚UCSDçš„BIGEæ¨¡å‹ï¼Œç”¨æ–¼é˜²è­·èˆ‡å¾©å¥ã€‚ç²¾é€šæ•¸æ“šèˆ‡AIæ”¿ç­–çš„äººæ‰å°‡å¼•é ˜ç”¢æ¥­è½‰å‹ã€‚", chartId: "chart_ai_tech", unitId: "unit_pct" },
            elite: { title_en: "The Elite Academic Track: Economics & Law", title_zh: "èè‹±å­¸è¡“è·¯å¾‘ï¼šç¶“æ¿Ÿèˆ‡æ³•å¾‹", content_en: "Focus on Rule-Making. Utilize the powerful toolkit of Mechanism Design (UChicago) to optimize ticket auction systems, or apply Game Theory to model salary arbitration outcomes. Harvard Law's negotiation frameworks provide the strategic edge for player contract structuring. This rigorous theoretical foundation is the gateway to high-level governance roles at the IOC, FIFA, or as a lead consultant for major leagues.", content_zh: "å°ˆæ³¨æ–¼è¦å‰‡åˆ¶å®šã€‚åˆ©ç”¨èŠåŠ å“¥å¤§å­¸çš„æ©Ÿåˆ¶è¨­è¨ˆ (Mechanism Design) ç†è«–ä¾†å„ªåŒ–ç¥¨å‹™æ‹è³£ç³»çµ±ï¼Œæˆ–æ‡‰ç”¨è³½å±€ç†è«– (Game Theory) æ¨¡æ“¬è–ªè³‡ä»²è£çµæœã€‚å“ˆä½›æ³•å­¸é™¢çš„è«‡åˆ¤æ¶æ§‹å‰‡ç‚ºçƒå“¡åˆç´„çµæ§‹æä¾›äº†ç­–ç•¥å„ªå‹¢ã€‚é€™ç¨®åš´è¬¹çš„ç†è«–åŸºç¤æ˜¯é€šå¾€ IOCã€FIFA æ±ºç­–å±¤æˆ–æˆç‚ºè·æ¥­è¯ç›Ÿé¦–å¸­é¡§å•çš„å¿…ç¶“ä¹‹è·¯ã€‚", chartId: "chart_elite", unitId: "unit_pct" },
            vb: { title_en: "Volleyball Economics: Global vs Local Models", title_zh: "æ’çƒç¶“æ¿Ÿå°ˆé¡Œï¼šå…¨çƒèˆ‡åœ¨åœ°æ¨¡å¼", content_en: "A comparative economic analysis of three distinct models: 1. The US Franchise Model (PVF/LOVB) focusing on city-based asset appreciation. 2. Japan's SV.League transformation, aiming for full professionalization with corporate backing. 3. Taiwan's TVL transitional challenges. Key research metrics include Fan Engagement ROI and the marginal utility of transitioning from semi-pro to fully pro status.", content_zh: "é‡å°ä¸‰ç¨®ä¸åŒæ¨¡å¼çš„æ¯”è¼ƒç¶“æ¿Ÿåˆ†æï¼š1. ç¾åœ‹ç‰¹è¨±ç¶“ç‡Ÿæ¨¡å¼ (PVF/LOVB)ï¼Œå°ˆæ³¨æ–¼åŸå¸‚è³‡ç”¢å¢å€¼ã€‚2. æ—¥æœ¬ SV.League çš„è½‰å‹ï¼Œæ—¨åœ¨é€éä¼æ¥­æ”¯æŒå¯¦ç¾å®Œå…¨è·æ¥­åŒ–ã€‚3. å°ç£ TVL çš„éæ¸¡æœŸæŒ‘æˆ°ã€‚é—œéµç ”ç©¶æŒ‡æ¨™åŒ…æ‹¬ç²‰çµ²äº’å‹•æŠ•è³‡å ±é…¬ç‡ (ROI) ä»¥åŠå¾åŠè·æ¥­è½‰å‹ç‚ºå…¨è·æ¥­çš„é‚Šéš›æ•ˆç”¨ã€‚", chartId: "chart_vb", unitId: "unit_score" },
            silver: { title_en: "Silver Economy & Health Policy Strategy", title_zh: "éŠ€é«®ç¶“æ¿Ÿèˆ‡å¥åº·æ”¿ç­–ç­–ç•¥", content_en: "As global societies age rapidly, sports transition from entertainment to preventive medicine. The core economic thesis involves a Cost-Benefit Analysis of 'Exercise Prescriptions' versus National Health Insurance expenditures. Programs like UCSD's MPH focus on Precision Health and the BIGE model to address these irreversible demographic shifts.", content_zh: "éš¨è‘—å…¨çƒæ­¥å…¥é«˜é½¡åŒ–ç¤¾æœƒï¼Œé«”è‚²çš„è§’è‰²å¾å¨›æ¨‚è½‰è®Šç‚ºé é˜²é†«å­¸ã€‚æ ¸å¿ƒç¶“æ¿Ÿè«–è¿°æ¶‰åŠã€Œé‹å‹•è™•æ–¹ã€èˆ‡é•·æœŸå¥ä¿æ”¯å‡ºä¹‹é–“çš„æˆæœ¬æ•ˆç›Šåˆ†æã€‚å¦‚ UCSD çš„ MPH è¨ˆç•«å°ˆæ³¨æ–¼ç²¾æº–å¥åº·èˆ‡ BIGE æ¨¡å‹æŠ€è¡“ï¼Œæ­£æ˜¯ç‚ºäº†æ‡‰å°é€™è‚¡ä¸å¯é€†çš„äººå£çµæ§‹é‡å¡‘ã€‚", chartId: "chart_silver", unitId: "unit_index" },
            law: { title_en: "Sports Law & Compliance: Emerging Risks", title_zh: "é‹å‹•æ³•å¾‹èˆ‡åˆè¦ï¼šæ–°èˆˆé¢¨éšª", content_en: "The legal landscape is shifting rapidly. Critical areas for economic analysis include: 1. Classifying athlete employment status (Employee vs Independent Contractor) and its tax implications. 2. Designing robust liability waivers for elderly participants in high-risk activities. 3. Managing Intellectual Property (Image Rights/NIL) in the digital streaming era. Harvard and Stanford lead in defining these frameworks.", content_zh: "æ³•å¾‹ç’°å¢ƒæ­£åœ¨å¿«é€Ÿè®Šé·ã€‚ç¶“æ¿Ÿåˆ†æçš„é—œéµé ˜åŸŸåŒ…æ‹¬ï¼š1. é‹å‹•å“¡åƒ±å‚­èº«åˆ†çš„èªå®šï¼ˆåƒ±å‚­ vs ç¨ç«‹æ‰¿æ”¬ï¼‰åŠå…¶ç¨…å‹™å½±éŸ¿ã€‚2. ç‚ºé«˜é¢¨éšªæ´»å‹•ä¸­çš„é«˜é½¡åƒèˆ‡è€…è¨­è¨ˆç©©å¥çš„å…è²¬æ¢æ¬¾ã€‚3. æ•¸ä½ä¸²æµæ™‚ä»£çš„æ™ºæ…§è²¡ç”¢æ¬Šï¼ˆå½¢è±¡æ¬Š/NILï¼‰ç®¡ç†ã€‚å“ˆä½›èˆ‡å²ä¸¹ä½›åœ¨å®šç¾©é€™äº›æ¶æ§‹ä¸Šå±…æ–¼é ˜å…ˆåœ°ä½ã€‚", chartId: "chart_law", unitId: "unit_cases" }
        };

        // Expanded Universities to 20 (Added 5 from UW & UCSD)
        const universities = [
            // Original 15
            { id: 1, name_en: "University of Chicago", name_zh: "èŠåŠ å“¥å¤§å­¸", region: "USA", track: "Elite", sports: ["Baseball", "Marathon"], tuition: "$65k/yr", duration: "1-2 Yr", courses_en: "Price Theory, Antitrust", courses_zh: "åƒ¹æ ¼ç†è«–, åæ‰˜æ‹‰æ–¯", alumni_en: "Gary Becker (Nobel)", alumni_zh: "Gary Becker (è«¾è²çˆ¾ç)", career_en: "Econ Consulting", career_zh: "ç¶“æ¿Ÿè«®è©¢", web: "https://economics.uchicago.edu/", scores: {theory:10, practice:4, legal:10, health:5} },
            { id: 2, name_en: "Harvard University", name_zh: "å“ˆä½›å¤§å­¸", region: "USA", track: "Elite", sports: ["Basketball", "Baseball"], tuition: "$70k/yr", duration: "1-2 Yr", courses_en: "Sports Law Clinic, Negotiation", courses_zh: "é‹å‹•æ³•å¾‹è¨ºæ‰€, è«‡åˆ¤", alumni_en: "League Commissioners", alumni_zh: "è¯ç›Ÿç¸½è£", career_en: "League Counsel", career_zh: "è¯ç›Ÿæ³•å‹™", web: "https://hls.harvard.edu/", scores: {theory:9, practice:7, legal:10, health:6} },
            { id: 3, name_en: "Stanford University", name_zh: "å²ä¸¹ä½›å¤§å­¸", region: "USA", track: "Elite", sports: ["Cycling", "Yoga"], tuition: "$68k/yr", duration: "2 Yr", courses_en: "Sports Econ, Innovation", courses_zh: "é«”è‚²ç¶“æ¿Ÿ, å‰µæ–°", alumni_en: "Roger Noll", alumni_zh: "Roger Noll", career_en: "Sports Tech VC", career_zh: "é‹å‹•ç§‘æŠ€å‰µæŠ•", web: "https://siepr.stanford.edu/", scores: {theory:10, practice:6, legal:9, health:8} },
            { id: 4, name_en: "Syracuse University", name_zh: "é›ªåŸå¤§å­¸", region: "USA", track: "Applied", sports: ["Basketball", "Baseball"], tuition: "$58k/yr", duration: "1-2 Yr", courses_en: "Sport Analytics, Media Rights", courses_zh: "é‹å‹•åˆ†æ, åª’é«”æ¬Šåˆ©", alumni_en: "David Falk", alumni_zh: "David Falk", career_en: "Rights Manager", career_zh: "ç‰ˆæ¬Šç¶“ç†", web: "https://falk.syr.edu/", scores: {theory:8, practice:9, legal:7, health:4} },
            { id: 5, name_en: "Univ. of Nebraska-Lincoln", name_zh: "å…§å¸ƒæ‹‰æ–¯åŠ å¤§å­¸æ—è‚¯åˆ†æ ¡", region: "USA", track: "Applied", sports: ["Volleyball"], tuition: "$35k/yr", duration: "1.5 Yr", courses_en: "Fan Engagement, Event Mgmt", courses_zh: "ç²‰çµ²äº’å‹•, è³½äº‹ç®¡ç†", alumni_en: "NCAA Directors", alumni_zh: "NCAA ç¸½ç›£", career_en: "Volleyball Ops", career_zh: "æ’çƒç‡Ÿé‹", web: "https://business.unl.edu/", scores: {theory:7, practice:10, legal:5, health:5} },
            { id: 6, name_en: "Rice University", name_zh: "èŠæ–¯å¤§å­¸", region: "USA", track: "Applied", sports: ["Baseball"], tuition: "$55k/yr", duration: "1-2 Yr", courses_en: "Econometrics, Moneyball", courses_zh: "è¨ˆé‡ç¶“æ¿Ÿ, é­”çƒ", alumni_en: "MLB Analytics Heads", alumni_zh: "MLB æ•¸æ“šä¸»ç®¡", career_en: "Data Analyst", career_zh: "æ•¸æ“šåˆ†æå¸«", web: "https://sport.rice.edu/", scores: {theory:9, practice:8, legal:4, health:4} },
            { id: 7, name_en: "University of Florida", name_zh: "ä½›ç¾…é‡Œé”å¤§å­¸", region: "USA", track: "Applied", sports: ["Volleyball", "Fitness"], tuition: "$40k/yr", duration: "2 Yr", courses_en: "Sport Law, Human Performance", courses_zh: "é‹å‹•æ³•å¾‹, äººé¡è¡¨ç¾", alumni_en: "SEC Execs", alumni_zh: "SEC é«˜ç®¡", career_en: "Wellness Director", career_zh: "å¥åº·ç¸½ç›£", web: "https://hhp.ufl.edu/", scores: {theory:8, practice:8, legal:8, health:9} },
            { id: 8, name_en: "University of Oregon", name_zh: "å¥§å‹’å²¡å¤§å­¸", region: "USA", track: "Applied", sports: ["Marathon", "Basketball"], tuition: "$60k/yr", duration: "2 Yr", courses_en: "Sponsorship, Brand Strategy", courses_zh: "è´ŠåŠ©, å“ç‰Œç­–ç•¥", alumni_en: "Nike VPs", alumni_zh: "Nike å‰¯ç¸½è£", career_en: "Brand Manager", career_zh: "å“ç‰Œç¶“ç†", web: "https://business.uoregon.edu/", scores: {theory:7, practice:10, legal:6, health:6} },
            { id: 9, name_en: "NUS Singapore", name_zh: "æ–°åŠ å¡åœ‹ç«‹å¤§å­¸", region: "Asia", track: "Applied", sports: ["Badminton", "TableTennis"], tuition: "$45k/yr", duration: "1-2 Yr", courses_en: "Public Policy, Smart Nation", courses_zh: "å…¬å…±æ”¿ç­–, æ™ºæ…§åœ‹å®¶", alumni_en: "Gov Ministers", alumni_zh: "æ”¿åºœéƒ¨é•·", career_en: "Policy Advisor", career_zh: "æ”¿ç­–é¡§å•", web: "https://lkyspp.nus.edu.sg/", scores: {theory:9, practice:7, legal:6, health:7} },
            { id: 10, name_en: "Waseda University", name_zh: "æ—©ç¨»ç”°å¤§å­¸", region: "Asia", track: "Applied", sports: ["Baseball", "Volleyball"], tuition: "Â¥1.5M/yr", duration: "2 Yr", courses_en: "Sport Policy, Aging Society", courses_zh: "é«”è‚²æ”¿ç­–, é«˜é½¡ç¤¾æœƒ", alumni_en: "J-League Execs", alumni_zh: "J-League é«˜å±¤", career_en: "Policy Maker", career_zh: "æ”¿ç­–åˆ¶å®š", web: "https://www.waseda.jp/", scores: {theory:8, practice:9, legal:6, health:9} },
            { id: 11, name_en: "University of Tsukuba", name_zh: "ç­‘æ³¢å¤§å­¸", region: "Asia", track: "Applied", sports: ["Volleyball", "Yoga"], tuition: "Â¥535k/yr", duration: "2 Yr", courses_en: "Biomechanics, Coaching", courses_zh: "ç”Ÿç‰©åŠ›å­¸, æ•™ç·´å­¸", alumni_en: "Olympic Medalists", alumni_zh: "å¥§é‹çç‰Œå¾—ä¸»", career_en: "Researcher", career_zh: "ç ”ç©¶å“¡", web: "http://tias.tsukuba.ac.jp/", scores: {theory:8, practice:8, legal:5, health:10} },
            { id: 12, name_en: "Seoul National Univ.", name_zh: "é¦–çˆ¾å¤§å­¸", region: "Asia", track: "Applied", sports: ["Badminton"], tuition: "Scholarship", duration: "1.5 Yr", courses_en: "Sport Dev, Governance", courses_zh: "é‹å‹•ç™¼å±•, æ²»ç†", alumni_en: "Global Admins", alumni_zh: "å…¨çƒè¡Œæ”¿äººå“¡", career_en: "Int'l Fed Staff", career_zh: "åœ‹éš›ç¸½æœƒè·å“¡", web: "http://dtm.snu.ac.kr/", scores: {theory:9, practice:7, legal:7, health:6} },
            { id: 13, name_en: "University of Sydney", name_zh: "é›ªæ¢¨å¤§å­¸", region: "Oceania", track: "Applied", sports: ["Marathon", "Rugby"], tuition: "$50k/yr", duration: "1.5 Yr", courses_en: "Strategic Mgmt, Big Data", courses_zh: "ç­–ç•¥ç®¡ç†, å¤§æ•¸æ“š", alumni_en: "AOC Staff", alumni_zh: "æ¾³æ´²å¥§å§”æœƒè·å“¡", career_en: "Consultant", career_zh: "é¡§å•", web: "https://www.sydney.edu.au/", scores: {theory:9, practice:8, legal:6, health:8} },
            { id: 14, name_en: "Univ. of Queensland", name_zh: "æ˜†å£«è˜­å¤§å­¸", region: "Oceania", track: "Applied", sports: ["Cycling", "Yoga"], tuition: "$45k/yr", duration: "1.5 Yr", courses_en: "Health Econ, Policy", courses_zh: "å¥åº·ç¶“æ¿Ÿ, æ”¿ç­–", alumni_en: "2032 Comm Staff", alumni_zh: "2032 ç±Œå§”æœƒ", career_en: "Impact Analyst", career_zh: "å½±éŸ¿åˆ†æå¸«", web: "https://hmns.uq.edu.au/", scores: {theory:9, practice:7, legal:6, health:10} },
            { id: 15, name_en: "Deakin University", name_zh: "è¿ªè‚¯å¤§å­¸", region: "Oceania", track: "Applied", sports: ["Basketball"], tuition: "$42k/yr", duration: "2 Yr", courses_en: "Sport Marketing, Law", courses_zh: "é‹å‹•è¡ŒéŠ·, æ³•å¾‹", alumni_en: "Tennis Aus Execs", alumni_zh: "æ¾³ç¶²é«˜å±¤", career_en: "Event Director", career_zh: "è³½äº‹ç¸½ç›£", web: "https://www.deakin.edu.au/", scores: {theory:7, practice:10, legal:6, health:8} },
            
            // PDF Added Programs
            { id: 16, name_en: "UW Seattle - Foster", name_zh: "è¯ç››é “å¤§å­¸ (Fosterå•†å­¸é™¢)", region: "USA", track: "Applied", sports: ["AI/Data", "Basketball"], tuition: "$65k/yr", duration: "12 Mo (STEM)", courses_en: "Analytics for Firm Decisions, Experimental Design & AI", courses_zh: "ä¼æ¥­æ±ºç­–åˆ†æ, å¯¦é©—è¨­è¨ˆèˆ‡AI", alumni_en: "Amazon/Microsoft Analysts", alumni_zh: "è¥¿é›…åœ–ç§‘æŠ€æ¥­é¡§å•", career_en: "Data Economist", career_zh: "æ•¸æ“šç¶“æ¿Ÿå­¸å®¶", web: "https://foster.uw.edu/", scores: {theory:8, practice:10, legal:5, health:4} },
            { id: 17, name_en: "UW Seattle - Evans", name_zh: "è¯ç››é “å¤§å­¸ (Evanså­¸é™¢)", region: "USA", track: "TechPolicy", sports: ["Healthcare", "TechPolicy"], tuition: "$60k/yr", duration: "2 Yr", courses_en: "Microeconomic Policy, Budgeting", courses_zh: "å€‹é«”ç¶“æ¿Ÿæ”¿ç­–, é ç®—ç·¨åˆ—", alumni_en: "Government/NGO Leaders", alumni_zh: "æ”¿åºœ/éç‡Ÿåˆ©é«˜å±¤", career_en: "Health Policy Analyst", career_zh: "å¥åº·æ”¿ç­–é¡§å•", web: "https://evans.uw.edu/", scores: {theory:8, practice:8, legal:9, health:8} },
            { id: 18, name_en: "UC San Diego - Rady", name_zh: "åŠ å·å¤§å­¸è–åœ°ç‰™å“¥åˆ†æ ¡ (Rady)", region: "USA", track: "Applied", sports: ["AI/Data", "Healthcare"], tuition: "$65k/yr", duration: "11 Mo (STEM)", courses_en: "GenAI/LLM Analytics, Machine Learning", courses_zh: "ç”Ÿæˆå¼AIåˆ†æ, æ©Ÿå™¨å­¸ç¿’", alumni_en: "BioTech/Tech Firm Consultants", alumni_zh: "å—åŠ å·ç”ŸæŠ€å·¨é ­é¡§å•", career_en: "AI Innovation Mgr", career_zh: "AI å‰µæ–°ç¶“ç†", web: "https://rady.ucsd.edu/", scores: {theory:9, practice:10, legal:6, health:6} },
            { id: 19, name_en: "UC San Diego - GPS", name_zh: "åŠ å·å¤§å­¸è–åœ°ç‰™å“¥åˆ†æ ¡ (GPS)", region: "USA", track: "TechPolicy", sports: ["TechPolicy", "AI/Data"], tuition: "$58k/yr", duration: "2 Yr (STEM)", courses_en: "Tech Regulation, GIS, Social Policy", courses_zh: "ç§‘æŠ€ç›£ç®¡, é™æ¸¬æŠ€è¡“, ç¤¾æœƒæ”¿ç­–", alumni_en: "Policy Makers", alumni_zh: "ç§‘æŠ€æ”¿ç­–åˆ¶å®šè€…", career_en: "Tech Policy Advisor", career_zh: "ç§‘æŠ€æ”¿ç­–é¡§å•", web: "https://gps.ucsd.edu/", scores: {theory:9, practice:8, legal:10, health:7} },
            { id: 20, name_en: "UC San Diego - Wertheim", name_zh: "åŠ å·å¤§å­¸è–åœ°ç‰™å“¥åˆ†æ ¡ (MPH)", region: "USA", track: "Applied", sports: ["Healthcare", "Marathon"], tuition: "$55k/yr", duration: "2 Yr", courses_en: "Biostatistics, Precision Health, BIGE Model", courses_zh: "ç”Ÿç‰©çµ±è¨ˆ, ç²¾æº–å¥åº·, BIGEæ¨¡å‹", alumni_en: "Health System Admins", alumni_zh: "é†«ç™‚ç³»çµ±ç®¡ç†å±¤", career_en: "Healthcare Economist", career_zh: "å¥åº·ç¶“æ¿Ÿå°ˆå®¶", web: "https://ph.ucsd.edu/", scores: {theory:7, practice:9, legal:7, health:10} }
        ];

        let activeChart = null, radarChart = null, synthesis = null, currentUtterance = null;

        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('version-date').textContent = `Last updated: ${new Date().toISOString().split('T')[0]}`;
            initTTS();
            initApp();
        });

        function initTTS() {
            if ('speechSynthesis' in window) {
                synthesis = window.speechSynthesis;
                state.ttsSupported = true;
                const loadVoices = () => { state.voices = synthesis.getVoices(); };
                if (synthesis.onvoiceschanged !== undefined) synthesis.onvoiceschanged = loadVoices;
                loadVoices();
                let attempts = 0;
                const poll = setInterval(() => { loadVoices(); if (state.voices.length > 0 || ++attempts > 20) clearInterval(poll); }, 100);
            }
        }

        function initApp() {
            initSettings();
            initGlossary();
            populateSelects();
            renderTimeline();
            renderResearchTabs();
            renderDashboard();
            updateText();
        }

        function initSettings() {
            document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
            document.getElementById('lang-toggle').addEventListener('click', toggleLang);
            document.getElementById('tts-btn').addEventListener('click', toggleReader);
            document.getElementById('reset-btn').addEventListener('click', resetFilters);
            ['track', 'region', 'sport'].forEach(id => document.getElementById(`${id}-select`).addEventListener('change', e => { state.filters[id] = e.target.value; renderDashboard(); }));
        }

        function toggleTheme() {
            document.documentElement.classList.toggle('dark');
            state.theme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
            document.getElementById('theme-icon').textContent = state.theme === 'dark' ? 'â˜€' : 'â˜¾';
            renderResearchChart();
            renderRadar(filterUniversities());
        }

        function toggleLang() {
            state.lang = state.lang === 'en' ? 'zh' : 'en';
            stopReader();
            updateText();
            renderTimeline();
            initGlossary();
            populateSelects();
            renderResearchTabs();
            renderDashboard();
        }

        function updateText() {
            const dict = dictionary[state.lang];
            document.querySelectorAll('[data-i18n]').forEach(el => { const key = el.getAttribute('data-i18n'); if (dict[key]) el.textContent = dict[key]; });
            updateReaderUI(false);
        }

        function populateSelects() {
            const opts = (arr, prefix) => arr.map(x => `<option value="${x.val}">${dictionary[state.lang][prefix + x.key]}</option>`).join('');
            document.getElementById('track-select').innerHTML = opts([{val:'all',key:'track_all'},{val:'Elite',key:'track_elite'},{val:'Applied',key:'track_applied'},{val:'TechPolicy',key:'track_tech_policy'}], '');
            document.getElementById('region-select').innerHTML = opts([{val:'all',key:'region_all'},{val:'USA',key:'region_usa'},{val:'Asia',key:'region_asia'},{val:'Oceania',key:'region_oce'}], '');
            document.getElementById('sport-select').innerHTML = opts([{val:'all',key:'sport_all'},{val:'AI/Data',key:'sport_ai_data'},{val:'TechPolicy',key:'sport_tech_policy'},{val:'Healthcare',key:'sport_healthcare'},{val:'Volleyball',key:'sport_vb'},{val:'Baseball',key:'sport_bb'},{val:'Basketball',key:'sport_bkb'},{val:'Badminton',key:'sport_bad'},{val:'TableTennis',key:'sport_tt'},{val:'Marathon',key:'sport_mara'},{val:'Cycling',key:'sport_cyc'},{val:'Yoga',key:'sport_yoga'}], '');
        }

        function initGlossary() {
            const sel = document.getElementById('glossary-select');
            sel.innerHTML = `<option value="">${dictionary[state.lang].glossary_default}</option>` + glossaryData.map(g => `<option value="${g.id}">${state.lang === 'zh' ? g.term_zh + ' (' + g.term_en + ')' : g.term_en}</option>`).join('');
            if (state.selectedTerm) { sel.value = state.selectedTerm; const item = glossaryData.find(x => x.id === state.selectedTerm); document.getElementById('glossary-def').textContent = item ? (state.lang === 'zh' ? item.def_zh : item.def_en) : ''; }
            sel.onchange = (e) => { state.selectedTerm = e.target.value; const item = glossaryData.find(x => x.id === e.target.value); document.getElementById('glossary-def').textContent = item ? (state.lang === 'zh' ? item.def_zh : item.def_en) : ''; };
        }

        function renderTimeline() {
            const container = document.getElementById('timeline-container');
            const isZh = state.lang === 'zh';
            const hint = dictionary[state.lang].card_front_hint;
            container.innerHTML = timelineData.map((t, i) => `
                <div class="group h-72 w-full perspective-1000 cursor-pointer">
                    <div class="relative h-full w-full transition-all duration-700 transform-style-3d group-hover:rotate-y-180">
                        <div class="absolute inset-0 backface-hidden bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-sm flex flex-col">
                            <div class="h-1 bg-bcg-green" style="width: ${(i + 1) * 25}%"></div>
                            <div class="p-6 flex flex-col h-full">
                                <div class="flex items-start justify-between mb-4"><span class="text-3xl">${t.icon}</span><span class="text-xs font-mono text-gray-400">${isZh ? t.date_zh : t.date_en}</span></div>
                                <span class="text-xs font-bold text-bcg-green dark:text-green-400 tracking-widest uppercase mb-2 block">${isZh ? t.period_zh : t.period_en}</span>
                                <h4 class="text-lg font-serif font-bold text-bcg-dark dark:text-white leading-tight flex-grow">${isZh ? t.title_zh : t.title_en}</h4>
                                <div class="mt-auto pt-4 border-t border-gray-100 dark:border-gray-700"><span class="text-[10px] uppercase tracking-widest text-gray-400">${hint}</span></div>
                            </div>
                        </div>
                        <div class="absolute inset-0 backface-hidden rotate-y-180 bg-bcg-green dark:bg-green-800 shadow-lg flex flex-col text-white">
                            <div class="p-6 flex flex-col h-full">
                                <div class="flex items-center gap-2 mb-4 pb-3 border-b border-white/20"><span class="text-xl">${t.icon}</span><h4 class="text-sm font-bold uppercase tracking-widest opacity-90">Action Plan</h4></div>
                                <p class="text-sm leading-relaxed whitespace-pre-line font-sans flex-grow">${isZh ? t.desc_zh : t.desc_en}</p>
                                <div class="mt-auto pt-3 text-[10px] uppercase tracking-widest opacity-60">Phase ${i + 1} of 4</div>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function resetFilters() { state.filters = { track: 'all', region: 'all', sport: 'all' }; document.getElementById('track-select').value = 'all'; document.getElementById('region-select').value = 'all'; document.getElementById('sport-select').value = 'all'; renderDashboard(); }

        function renderResearchTabs() {
            const nav = document.getElementById('research-tabs-nav');
            const content = document.getElementById('research-content');
            // Added ai_tech as the first tab
            const tabs = ['ai_tech', 'elite', 'vb', 'silver', 'law'];
            nav.innerHTML = tabs.map(id => `<button onclick="switchTab('${id}')" class="px-5 py-3 font-serif font-bold text-xs uppercase tracking-widest transition-all whitespace-nowrap ${state.activeTab === id ? 'tab-active' : 'text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800'}">${dictionary[state.lang]['tab_' + id]}</button>`).join('');
            const data = researchData[state.activeTab];
            const title = state.lang === 'zh' ? data.title_zh : data.title_en;
            const text = state.lang === 'zh' ? data.content_zh : data.content_en;
            const chartTitle = dictionary[state.lang][data.chartId];
            content.innerHTML = `<div class="flex flex-col lg:flex-row gap-10"><div class="lg:w-1/2"><h4 class="text-2xl font-serif font-bold mb-4 text-bcg-green dark:text-green-400">${title}</h4><p class="text-base text-gray-700 dark:text-gray-300 leading-relaxed font-sans">${text}</p></div><div class="lg:w-1/2 bg-gray-50 dark:bg-gray-900 p-6 border border-gray-200 dark:border-gray-700"><h5 class="text-xs font-bold text-center mb-4 uppercase text-gray-400 tracking-widest">${chartTitle}</h5><div class="chart-container"><canvas id="researchChart"></canvas></div></div></div>`;
            setTimeout(renderResearchChart, 50);
        }

        window.switchTab = (id) => { state.activeTab = id; stopReader(); renderResearchTabs(); };

        function toggleReader() { if (!state.ttsSupported) { alert(dictionary[state.lang].tts_unavailable); return; } if (synthesis.speaking) stopReader(); else startReader(); }

        function stopReader() { if (synthesis) synthesis.cancel(); currentUtterance = null; updateReaderUI(false); }

        function startReader() {
            if (!synthesis) return;
            synthesis.cancel();
            const data = researchData[state.activeTab];
            const title = state.lang === 'zh' ? data.title_zh : data.title_en;
            const text = state.lang === 'zh' ? data.content_zh : data.content_en;
            currentUtterance = new SpeechSynthesisUtterance(title + ". " + text);
            currentUtterance.lang = state.lang === 'zh' ? 'zh-TW' : 'en-GB';
            currentUtterance.rate = 0.9;
            const voices = synthesis.getVoices();
            let voice = null;
            if (state.lang === 'zh') {
                voice = voices.find(v => v.name.includes('Yating')) || voices.find(v => v.name.includes('Mei-Jia')) || voices.find(v => v.lang === 'zh-TW') || voices.find(v => v.lang.startsWith('zh'));
            } else {
                voice = voices.find(v => v.name.includes('Daniel') && v.lang.includes('en-GB')) || voices.find(v => v.name.includes('Google UK English Male')) || voices.find(v => v.lang === 'en-GB') || voices.find(v => v.lang.startsWith('en'));
            }
            if (voice) currentUtterance.voice = voice;
            currentUtterance.onend = () => { updateReaderUI(false); currentUtterance = null; };
            currentUtterance.onerror = () => { updateReaderUI(false); currentUtterance = null; };
            updateReaderUI(true);
            synthesis.speak(currentUtterance);
            const keepAlive = setInterval(() => { if (!synthesis.speaking) clearInterval(keepAlive); else { synthesis.pause(); synthesis.resume(); } }, 10000);
        }

        function updateReaderUI(isReading) {
            const icon = document.getElementById('tts-icon');
            const label = document.getElementById('tts-label');
            const indicator = document.getElementById('tts-indicator');
            const dict = dictionary[state.lang];
            if (isReading) { icon.textContent = "â– "; label.textContent = dict.tts_stop; indicator.classList.remove('hidden'); indicator.classList.add('flex'); }
            else { icon.textContent = "â–¶"; label.textContent = dict.tts_read; indicator.classList.add('hidden'); indicator.classList.remove('flex'); }
        }

        function renderResearchChart() {
            const ctx = document.getElementById('researchChart'); if (!ctx) return;
            if (activeChart) activeChart.destroy();
            const isZh = state.lang === 'zh';
            const isDark = state.theme === 'dark';
            const colors = isDark ? ['#10b981', '#34d399', '#6b7280'] : ['#175e52', '#2d8a76', '#9ca3af'];
            const textColor = isDark ? '#9ca3af' : '#4b5563';
            const unit = dictionary[state.lang][researchData[state.activeTab].unitId];
            let config = { type: 'bar', data: {}, options: { maintainAspectRatio: false, plugins: { legend: { position: 'bottom', labels: { color: textColor } } } } };
            
            if (state.activeTab === 'ai_tech') { 
                config.type = 'polarArea'; 
                config.data = { labels: isZh ? ['ç”Ÿæˆå¼AI', 'ä»£ç†å¼AI', 'å¯¦é«”AI'] : ['GenAI', 'Agentic AI', 'Physical AI'], datasets: [{ data: [40, 35, 25], backgroundColor: isDark ? ['rgba(16,185,129,0.7)', 'rgba(52,211,153,0.7)', 'rgba(107,114,128,0.7)'] : ['rgba(23,94,82,0.8)', 'rgba(45,138,118,0.8)', 'rgba(156,163,175,0.8)'] }] }; 
                config.options.scales = { r: { grid: { color: isDark ? '#374151' : '#e5e7eb' }, ticks: { display: false } } };
            }
            else if (state.activeTab === 'elite') { config.type = 'doughnut'; config.data = { labels: isZh ? ['ç†è«–', 'æ”¿ç­–', 'ç®¡ç†'] : ['Theory', 'Policy', 'Mgmt'], datasets: [{ data: [50, 30, 20], backgroundColor: colors, borderColor: isDark ? '#111827' : '#fff', borderWidth: 2 }] }; }
            else if (state.activeTab === 'vb') { config.data = { labels: isZh ? ['ç¾åœ‹', 'æ—¥æœ¬', 'å°ç£'] : ['USA', 'Japan', 'Taiwan'], datasets: [{ label: isZh ? 'æˆç†Ÿåº¦' : 'Maturity', data: [5, 8, 2], backgroundColor: colors[0] }, { label: isZh ? 'è‡ªç”±åº¦' : 'Freedom', data: [9, 6, 3], backgroundColor: colors[2] }] }; config.options.scales = { x: { ticks: { color: textColor }, grid: { display: false } }, y: { title: { display: true, text: unit, color: textColor }, ticks: { color: textColor }, grid: { color: isDark ? '#374151' : '#e5e7eb' } } }; }
            else if (state.activeTab === 'silver') { config.type = 'line'; config.data = { labels: ['2025', '2030', '2035'], datasets: [{ label: isZh ? 'é ä¼°ç¯€çœ' : 'Savings', data: [100, 150, 220], borderColor: colors[0], backgroundColor: isDark ? 'rgba(16,185,129,0.1)' : 'rgba(23,94,82,0.1)', fill: true, tension: 0.3 }] }; config.options.scales = { x: { ticks: { color: textColor }, grid: { display: false } }, y: { title: { display: true, text: unit, color: textColor }, ticks: { color: textColor }, grid: { color: isDark ? '#374151' : '#e5e7eb' } } }; }
            else { config.type = 'pie'; config.data = { labels: isZh ? ['åˆç´„', 'åæ‰˜æ‹‰æ–¯', 'æ™ºè²¡'] : ['Contract', 'Antitrust', 'IP'], datasets: [{ data: [40, 35, 25], backgroundColor: colors, borderColor: isDark ? '#111827' : '#fff', borderWidth: 2 }] }; }
            activeChart = new Chart(ctx, config);
        }

        function renderDashboard() {
            const filtered = filterUniversities();
            document.getElementById('count-display').textContent = filtered.length;
            const list = document.getElementById('uni-list');
            if (filtered.length === 0) { list.innerHTML = `<div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 p-12 text-center"><div class="text-4xl mb-4">ğŸ”</div><p class="text-gray-500 dark:text-gray-400 font-serif italic">${dictionary[state.lang].no_results}</p></div>`; }
            else {
                const lbl = dictionary[state.lang];
                list.innerHTML = filtered.map(u => `
                    <div class="bg-white dark:bg-gray-800 border-l-4 ${u.track === 'Elite' ? 'border-l-bcg-green dark:border-l-green-500' : (u.track === 'TechPolicy' ? 'border-l-blue-500 dark:border-l-blue-400' : 'border-l-gray-300 dark:border-l-gray-600')} border border-gray-200 dark:border-gray-700 card-hover">
                        <div class="p-5 flex justify-between items-center cursor-pointer" onclick="toggleCard(${u.id})">
                            <div>
                                ${u.track === 'Elite' ? `<span class="text-[10px] font-bold uppercase tracking-widest text-bcg-green dark:text-green-400 mb-1 block">â˜… ELITE TRACK</span>` : ''}
                                ${u.track === 'TechPolicy' ? `<span class="text-[10px] font-bold uppercase tracking-widest text-blue-500 dark:text-blue-400 mb-1 block">âš–ï¸ TECH & POLICY TRACK</span>` : ''}
                                <h4 class="font-serif font-bold text-lg text-gray-900 dark:text-white">${state.lang === 'zh' ? u.name_zh : u.name_en}</h4>
                                <div class="text-xs text-gray-500 mt-1 uppercase tracking-wider">${u.region} â€¢ ${u.sports[0]}</div>
                            </div>
                            <span class="text-gray-300 text-2xl">${state.expandedCard === u.id ? 'âˆ’' : '+'}</span>
                        </div>
                        <div class="accordion-content ${state.expandedCard === u.id ? 'open' : ''} border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-900">
                            <div class="p-5 grid grid-cols-1 md:grid-cols-2 gap-y-4 gap-x-8 text-sm">
                                <div><span class="block text-xs font-bold text-gray-400 uppercase tracking-widest mb-1">${lbl.lbl_tuition}</span><span class="dark:text-gray-300">${u.tuition}</span></div>
                                <div><span class="block text-xs font-bold text-gray-400 uppercase tracking-widest mb-1">${lbl.lbl_duration}</span><span class="dark:text-gray-300">${u.duration}</span></div>
                                <div><span class="block text-xs font-bold text-gray-400 uppercase tracking-widest mb-1">${lbl.lbl_courses}</span><span class="dark:text-gray-300">${state.lang === 'zh' ? u.courses_zh : u.courses_en}</span></div>
                                <div><span class="block text-xs font-bold text-gray-400 uppercase tracking-widest mb-1">${lbl.lbl_alumni}</span><span class="dark:text-gray-300">${state.lang === 'zh' ? u.alumni_zh : u.alumni_en}</span></div>
                                <div class="col-span-1 md:col-span-2 mt-2 pt-2 border-t border-gray-200 dark:border-gray-700 flex justify-between items-center">
                                    <span class="font-serif italic text-gray-600 dark:text-gray-400">${state.lang === 'zh' ? u.career_zh : u.career_en}</span>
                                    <a href="${u.web}" target="_blank" class="text-bcg-green dark:text-green-400 font-bold hover:underline uppercase text-xs tracking-widest">${lbl.lbl_web} â†’</a>
                                </div>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
            renderRadar(filtered);
        }

        function filterUniversities() { return universities.filter(u => (state.filters.track === 'all' || u.track === state.filters.track) && (state.filters.region === 'all' || u.region === state.filters.region) && (state.filters.sport === 'all' || u.sports.includes(state.filters.sport))); }

        window.toggleCard = (id) => { state.expandedCard = state.expandedCard === id ? null : id; renderDashboard(); };

        function renderRadar(data) {
            const ctx = document.getElementById('radarChart'); if (!ctx) return;
            if (radarChart) radarChart.destroy();
            let avg = { theory: 0, practice: 0, legal: 0, health: 0 };
            if (data.length) { data.forEach(u => { avg.theory += u.scores.theory; avg.practice += u.scores.practice; avg.legal += u.scores.legal; avg.health += u.scores.health; }); Object.keys(avg).forEach(k => avg[k] /= data.length); }
            const isDark = state.theme === 'dark';
            const color = isDark ? '#10b981' : '#175e52';
            radarChart = new Chart(ctx, { type: 'radar', data: { labels: state.lang === 'zh' ? ['ç†è«–', 'å¯¦å‹™', 'æ³•å¾‹', 'å¥åº·'] : ['Theory', 'Practice', 'Legal', 'Health'], datasets: [{ label: 'Cohort', data: [avg.theory, avg.practice, avg.legal, avg.health], backgroundColor: isDark ? 'rgba(16, 185, 129, 0.2)' : 'rgba(23, 94, 82, 0.1)', borderColor: color, pointBackgroundColor: color, borderWidth: 2 }] }, options: { maintainAspectRatio: false, scales: { r: { suggestedMin: 0, max: 10, ticks: { display: false }, grid: { color: isDark ? '#374151' : '#e5e7eb' }, pointLabels: { color: isDark ? '#9ca3af' : '#4b5563' } } }, plugins: { legend: { display: false } } } });
        }
    </script>
</body>
</html>